graphs:

- id: ERP
  nodes:
  - id: sub
    module: timeflux.nodes.zmq
    class: Sub
    params:
      topics: [filtered, events]
  - id: epoch_erp
    module: timeflux.nodes.epoch
    class: Samples
    params:
      trigger: epoch
      length: {{ ERP_LENGTH }}
  - id: accumulate_epochs
    module: nodes.accumulation.epochs_accumulation
    class: AccumulateEpochs
  - id: pub_erp
    module: timeflux.nodes.zmq
    class: Pub
    params:
      topic: erp
  edges:
    - source: sub:filtered
      target: epoch_erp
    - source: sub:events
      target: epoch_erp:events
    - source: epoch_erp:*
      target: accumulate_epochs
    - source: accumulate_epochs
      target: pub_erp
  rate: 10